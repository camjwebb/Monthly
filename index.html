<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mortgage Payment Breakdown</title>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Arial', sans-serif;
        background-color: #155c3c;
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 10px;
        overflow: hidden;
    }

    .logo-link {
        position: absolute;
        top: 10px;
        left: 10px;
        z-index: 100;
    }

    .logo-link img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid white;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .logo-link img:hover {
        transform: scale(1.1);
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.6);
    }

    .header-section {
        text-align: center;
        color: white;
        margin-bottom: 15px;
        width: 100%;
        max-width: 600px;
    }

    .main-heading {
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 5px;
        line-height: 1.2;
    }

    .sub-heading {
        font-size: 13px;
        font-weight: normal;
        opacity: 0.9;
    }

    .content-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        max-width: 1200px;
        gap: 15px;
        flex: 1;
        justify-content: center;
    }

    .diagram-container {
        position: relative;
        width: 100%;
        max-width: 280px;
        height: 280px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    svg {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
    }

    line {
        stroke: rgba(255,255,255,0.4);
        stroke-width: 3;
    }

    .center-bubble {
        position: absolute;
        width: 90px;
        height: 90px;
        background-color: rgba(34,139,84,0.6);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        color: white;
        font-weight: bold;
        font-size: 11px;
        box-shadow: 0 4px 15px rgba(34,139,84,0.3);
        z-index: 10;
    }

    .center-bubble-text {
        font-size: 12px;
        line-height: 1.2;
    }

    .outer-bubble {
        position: absolute;
        width: 70px;
        height: 70px;
        background-color: rgba(34,139,84,0.6);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        color: white;
        font-weight: bold;
        font-size: 11px;
        box-shadow: 0 4px 15px rgba(34,139,84,0.2);
    }

    .highlighted {
        transform: scale(1.12);
        box-shadow: 0 0 25px 10px rgba(255,255,255,0.7);
        background-color: rgba(50,205,120,0.9);
        z-index: 20;
    }

    .definition-box {
        background-color: rgba(34,139,84,0.6);
        color: white;
        border-radius: 12px;
        text-align: center;
        width: 100%;
        max-width: 350px;
        min-height: 85px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 12px 15px;
        box-shadow: 0 4px 15px rgba(34,139,84,0.3);
        transition: all 0.3s ease;
        flex-shrink: 0;
    }

    .definition-title {
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 5px;
    }

    .definition-text {
        font-size: 13px;
        line-height: 1.4;
        max-width: 320px;
    }

    /* Tablet styles */
    @media (min-width: 768px) {
        body {
            padding: 20px;
            overflow: auto;
        }

        .logo-link {
            position: relative;
            top: auto;
            left: auto;
            align-self: flex-start;
            margin-bottom: 20px;
        }

        .logo-link img {
            width: 80px;
            height: 80px;
            border: 3px solid white;
        }

        .header-section {
            margin-bottom: 30px;
        }

        .main-heading {
            font-size: 42px;
            margin-bottom: 12px;
        }

        .sub-heading {
            font-size: 22px;
        }

        .content-wrapper {
            gap: 30px;
        }

        .diagram-container {
            max-width: 600px;
            height: 600px;
        }

        .center-bubble {
            width: 160px;
            height: 160px;
            font-size: 18px;
        }

        .center-bubble-text {
            font-size: 20px;
            line-height: 1.3;
        }

        .outer-bubble {
            width: 110px;
            height: 110px;
            font-size: 15px;
        }

        .definition-box {
            max-width: 600px;
            min-height: 120px;
            padding: 20px;
        }

        .definition-title {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .definition-text {
            font-size: 18px;
            line-height: 1.5;
            max-width: 450px;
        }
    }

    /* Desktop styles */
    @media (min-width: 1024px) {
        body {
            padding: 40px 20px;
        }

        .content-wrapper {
            flex-direction: row;
            justify-content: center;
            align-items: flex-start;
            gap: 50px;
        }

        .header-section {
            margin-bottom: 50px;
        }

        .diagram-container {
            max-width: 600px;
            height: 600px;
        }

        .definition-box {
            min-height: 200px;
            max-width: 450px;
        }
    }

    /* Mobile small screens - removed */

</style>
</head>
<body>
    <a href="https://homelordsystem.com/" target="_blank" class="logo-link">
        <img src="https://media.licdn.com/dms/image/v2/D5603AQEaVFfvDSEKSw/profile-displayphoto-shrink_400_400/B56ZaHujaeGUAg-/0/1746033850383?e=1763596800&v=beta&t=ZpXEWUsnnJAWfec-CkK-8FTT3u8qXl7uANheBXKV82I" alt="Justin Midgley">
    </a>

    <div class="header-section">
        <h1 class="main-heading">Let's break down what makes a mortgage payment</h1>
        <p class="sub-heading">Click the circles below to learn more</p>
    </div>

    <div class="content-wrapper">
        <div class="diagram-container">
            <svg id="svgLines"></svg>

            <div class="center-bubble" id="centerBubble" data-key="payment">
                <div class="center-bubble-text">Monthly<br>Mortgage<br>Payment</div>
            </div>

            <div class="outer-bubble" id="interest" data-key="interest">Interest</div>
            <div class="outer-bubble" id="taxes" data-key="taxes">Taxes</div>
            <div class="outer-bubble" id="hoi" data-key="hoi">HOI</div>
            <div class="outer-bubble" id="pmi" data-key="pmi">PMI</div>
            <div class="outer-bubble" id="hoa" data-key="hoa">HOA</div>
            <div class="outer-bubble" id="principal" data-key="principal">Principal</div>
        </div>

        <div class="definition-box" id="definitionBox">
            <div class="definition-title">Monthly Mortgage Payment</div>
            <div class="definition-text">Your total monthly cost for your home, combining all parts of your payment.</div>
        </div>
    </div>

    <script>
        const definitions = {
            payment: {
                title: "Monthly Mortgage Payment",
                text: "Your total monthly cost for your home."
            },
            principal: {
                title: "Principal",
                text: "Money that goes toward paying off your house."
            },
            interest: {
                title: "Interest",
                text: "Money paid to the lender for borrowing their money."
            },
            taxes: {
                title: "Property Taxes",
                text: "Money paid to the government for owning property."
            },
            hoi: {
                title: "Homeowners Insurance",
                text: "Money paid to protect your home from damage."
            },
            pmi: {
                title: "Private Mortgage Insurance",
                text: "Money paid to protect the lender from late payments."
            },
            hoa: {
                title: "Homeowners Association",
                text: "Money paid to your HOA to maintain shared areas."
            }
        };

        // Bubble positions
        const positions = {
            taxes: { angle: 0 },
            hoi: { angle: 60 },
            pmi: { angle: 120 },
            hoa: { angle: 180 },
            principal: { angle: 240 },
            interest: { angle: 300 }
        };

        const container = document.querySelector('.diagram-container');
        const svg = document.getElementById('svgLines');
        const definitionBox = document.getElementById('definitionBox');
        const centerBubble = document.getElementById('centerBubble');

        function drawLines() {
            svg.innerHTML = '';
            const centerX = container.offsetWidth / 2;
            const centerY = container.offsetHeight / 2;
            
            // Responsive radius calculations
            const baseRadius = Math.min(container.offsetWidth, container.offsetHeight);
            const radius = baseRadius * 0.37;
            const centerRadius = baseRadius * 0.14;
            const outerRadius = baseRadius * 0.1;

            Object.values(positions).forEach(pos => {
                const angle = pos.angle * Math.PI / 180;
                const startX = centerX + Math.cos(angle) * centerRadius;
                const startY = centerY + Math.sin(angle) * centerRadius;
                const endX = centerX + Math.cos(angle) * (radius - outerRadius);
                const endY = centerY + Math.sin(angle) * (radius - outerRadius);
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', startX);
                line.setAttribute('y1', startY);
                line.setAttribute('x2', endX);
                line.setAttribute('y2', endY);
                svg.appendChild(line);
            });
        }

        function positionBubbles() {
            const centerX = container.offsetWidth / 2;
            const centerY = container.offsetHeight / 2;
            const baseRadius = Math.min(container.offsetWidth, container.offsetHeight);
            const radius = baseRadius * 0.37;

            Object.keys(positions).forEach(key => {
                const bubble = document.getElementById(key);
                const pos = positions[key];
                const angle = pos.angle * Math.PI / 180;
                const bubbleSize = bubble.offsetWidth / 2;
                const x = centerX + Math.cos(angle) * radius - bubbleSize;
                const y = centerY + Math.sin(angle) * radius - bubbleSize;
                bubble.style.left = x + 'px';
                bubble.style.top = y + 'px';
            });
        }

        function updateDefinition(key) {
            const def = definitions[key];
            definitionBox.innerHTML = `
                <div class="definition-title">${def.title}</div>
                <div class="definition-text">${def.text}</div>
            `;
        }

        function setActiveBubble(key) {
            document.querySelectorAll('.outer-bubble, .center-bubble').forEach(b => b.classList.remove('highlighted'));
            const bubble = document.getElementById(key === 'payment' ? 'centerBubble' : key);
            bubble.classList.add('highlighted');
            updateDefinition(key);
        }

        // Click listeners for all bubbles
        Object.keys(definitions).forEach(key => {
            const el = document.getElementById(key === 'payment' ? 'centerBubble' : key);
            if (el) {
                el.addEventListener('click', () => setActiveBubble(key));
            }
        });

        // Initialize on load
        window.addEventListener('load', () => {
            positionBubbles();
            drawLines();
            setActiveBubble('payment');
        });

        // Debounce resize events for better performance
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                positionBubbles();
                drawLines();
            }, 250);
        });
    </script>
</body>
</html>
